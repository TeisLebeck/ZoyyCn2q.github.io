<!DOCTYPE html>
<html>
  <head>
    <meta charset="UTF-8">
    <title>J.U.D.G.E.</title>
    <script src="es6-promise.auto.min.js"></script>
    <script src="jspdf.min.js"></script>
    <script src="html2canvas.min.js"></script>
    <script src="html2pdf.min.js"></script>
    <script src="https://cdnjs.cloudflare.com/ajax/libs/html2pdf.js/0.9.3/html2pdf.bundle.min.js"></script>
    <style>
      /* Add CSS styles here */
      body {
        font-family: Arial, Helvetica, sans-serif;
        background-color: #ffffff;
        color: #2e2d2d;
        margin: 0;
        padding: 0;

      }

      h1 {
        font-size: 50px;
        text-align: center;
        margin-top: 50px;
        margin-bottom: 30px;
        text-transform: uppercase;
        letter-spacing: 1px;
      }

      form {
        margin: 0 auto;
        width: 500px;
      }

      label {
        font-size: 15px;
        display: block;
        margin-bottom: 10px;
      }

      select {
        font-size: 15px;
        padding: 10px;
        border: none;
        border-radius: 5px;
        background-color: #f1f0eb;
        box-shadow: 0px 2px 5px rgba(0, 0, 0, 0.1);
        width: 100%;
        margin-bottom: 20px;
      }

      button {
        font-size: 20px;
        font-family: arial;
        padding: 15px 30px;
        background-color: #7c7c7c;
        color: #f1f0eb;
        border: none;
        border-radius: 5px;
        cursor: pointer;
        transition: all 0.3s eas1e-in-out;
        margin-right: 10px;
        margin-left: 10px;
      }

      p {
  page-break-inside: avoid;
}
      button:hover {
        background-color: #2e2d2d;
      }

      #story {
        font-size: 14px;
        text-align: justify;
        line-height: 1;
        margin-top: 20px;
        animation: fadeInUp 1s ease;
        font-family: "Times New Roman", Times, serif;
      }

    </style>
  </head>
  <body>
  <div style ="text-align:center;">
    <img src="https://static.nichehuset.dk/annoncer/jobannoncer/images/annoncoerer/logoer/550/336.png" alt="Digitaliseringsstyrelsen" width="192" height="37,5">
  </div> 
    <h1>J.U.D.G.E.</h1>
    <form>
      <label for="type">Tilsyn</label>
      <select id="type" name="type">
        <option value="borgerklage">Borgerklage</option>
        <option value="fagforeninger">Fagforeninger, a-kasser og forsikringsselskaber</option>
        <option value="apps">Apps</option>
      </select>
      <br><br>
      <label for="sagsbehandler">Sagsbehandler</label>
      <select id="sagsbehandler" name="sagsbehandler">
        <option value="aks">Anne-Kathrine Eigen Schnügger</option>
        <option value="nkg">Nina Krener Gjelstrup</option>
        <option value="kkj">Kristian Kjemtrup Jensen</option>
      </select>
      <br><br>
      <label for="dato">Dato</label>
      <textarea id="dato" name="dato" rows="1" cols="50"></textarea>
      <br><br>
      <label for="url">Hjemmeside</label>
      <textarea id="url" name="url" rows="1" cols="50"></textarea>
      <br><br>
      <label for="client">Virksomhedens navn</label>
      <textarea id="client" name="client" rows="1" cols="50"></textarea>
      <br><br>
      <label for="cvr">Virksomhedens CVR-nummer</label>
      <textarea id="cvr" name="cvr" rows="1" cols="50"></textarea>
      <br><br>
      <label for="frist">Frist</label>
      <textarea id="frist" name="frist" rows="1" cols="50"></textarea>
      <br><br>
      <label for="cookies_inden_samtykke">Sættes der cookies og lign. teknologier inden samtykke?</label>
      <select id="cookies_inden_samtykke" name="cookies_inden_samtykke">
        <option value="0">Nej</option>
        <option value="1">Ja</option>
      </select>
      <br><br>
      <label for="mangler_cookiebanner">Er der intet cookiebanner?</label>
      <select id="mangler_cookiebanner" name="mangler_cookiebanner">
        <option value="0">Nej</option>
        <option value="1">Ja</option>
      </select>
      <br><br>
      <label for="uklassificerede_cookies">Er der uklassificerede cookies?</label>
      <select id="uklassificerede_cookies" name="uklassificerede_cookies">
        <option value="0">Nej</option>
        <option value="1">Ja</option>
      </select>
      <br><br>
      <label for="klik_videre">Benyttes klik videre-funktion?</label>
      <select id="klik_videre" name="klik_videre">
        <option value="0">Nej</option>
        <option value="1">Ja</option>
      </select>
      <br><br>
      <label for="mangler_oplysninger_banner">Er der mangelfulde oplysninger i cookiebanneret om formål og/ eller udbyder?</label>
      <select id="mangler_oplysninger_banner" name="mangler_oplysninger_banner">
        <option value="0">Nej</option>
        <option value="a">Ja, mangelfuld oplysning om tredjepart</option>
        <option value="b">Ja, mangelfuld oplysning om formål</option>
        <option value="c">Ja, mangelfuld oplysning om både formål og tredjepart</option>
      </select>
      <br><br>
      <label for="mangler_oplysninger_varighed">Er der mangelfulde oplysninger om cookies funktionsvarighed?</label>
      <select id="mangler_oplysninger_varighed" name="mangler_oplysninger_varighed">
        <option value="0">Nej</option>
        <option value="1">Ja</option>
      </select>
      <br><br>
      <label for="mangler_slettevejledning">Er der mangler ift. slettevejledning eller manglende adgang til at tilbagetrække et samtykke?</label>
      <select id="mangler_slettevejledning" name="mangler_slettevejledning">
        <option value="0">Nej</option>
        <option value="1">Ja</option>
      </select>
      <br><br>
      <label for="forudafkrydsede_felter">Benyttes der forudafkrydsede felter?</label>
      <select id="forudafkrydsede_felter" name="forudafkrydsede_felter">
        <option value="0">Nej</option>
        <option value="1">Ja</option>
      </select>
      <br><br>
      <label for="mangelfuld_cookiedeklaration">Benyttes der en mangelfuld cookiedeklaration eller oplistes de anvendte teknologier ikke?</label>
      <select id="mangelfuld_cookiedeklaration" name="mangelfuld_cookiedeklaration">
        <option value="0">Nej</option>
        <option value="1">Ja</option>
      </select>
      <br><br>
      <label for="engelsk_cookiebanner">Er cookiebanneret på engelsk?</label>
      <select id="engelsk_cookiebanner" name="engelsk_cookiebanner">
        <option value="0">Nej</option>
        <option value="1">Ja</option>
      </select>
      <br><br>
      <label for="manglende_ens_meddelelseseffekt">Er der mangler ift. ens meddelelseseffekt?</label>
      <select id="manglende_ens_meddelelseseffekt" name="manglende_ens_meddelelseseffekt">
        <option value="0">Nej</option>
        <option value="a">Ja, der er alene en ”accepter”-knap</option>
        <option value="b">Ja, der er alene en “accepter”-knap og ”indstillinger/læs mere”</option>
        <option value="c">Ja, “afvis”-knappen er gemt i teksten i cookiebanneret</option>
      </select>
      <br><br>
      <label for="manglende_granularitet">Gives brugeren ikke adgang til at granulere sit samtykke?</label>
      <select id="manglende_granularitet" name="manglende_granularitet">
        <option value="0">Nej</option>
        <option value="1">Ja</option>
      </select>
      <br><br>
      <label for="samtykke_uden_oplysninger">Afkræves brugeren samtykke før brugeren har kunne tilgå de væsentligste oplysninger?</label>
      <select id="samtykke_uden_oplysninger" name="samtykke_uden_oplysninger">
        <option value="0">Nej</option>
        <option value="1">Ja</option>
      </select>
      <br><br>
    </form>
    <br>
    <div style="text-align:center;">
      <button onclick="generateStory()">Skriv høringsbrev</button>
    </div>
        <br>
    <br>
    <p id="story"></p>
    <div>
    <script>
      function generateStory() {
        let story = "";
        const uklassificerede_cookies = document.getElementById("uklassificerede_cookies").value;
        const klik_videre = document.getElementById("klik_videre").value;
        const mangler_oplysninger_banner = document.getElementById("mangler_oplysninger_banner").value;
        const mangler_oplysninger_varighed = document.getElementById("mangler_oplysninger_varighed").value;
        const mangler_slettevejledning = document.getElementById("mangler_slettevejledning").value;
        const forudafkrydsede_felter = document.getElementById("forudafkrydsede_felter").value;
        const mangelfuld_cookiedeklaration = document.getElementById("mangelfuld_cookiedeklaration").value;
        const mangler_cookiebanner = document.getElementById("mangler_cookiebanner").value;
        const engelsk_cookiebanner = document.getElementById("engelsk_cookiebanner").value;
        const manglende_ens_meddelelseseffekt = document.getElementById("manglende_ens_meddelelseseffekt").value;
        const manglende_granularitet = document.getElementById("manglende_granularitet").value;
        const samtykke_uden_oplysninger = document.getElementById("samtykke_uden_oplysninger").value;
        const client = document.getElementById("client").value;
        const cvr = document.getElementById("cvr").value;
        const url = document.getElementById("url").value;
        const frist = document.getElementById("frist").value;
        const sagsbehandler = document.getElementById("sagsbehandler").value;
        const cookies_inden_samtykke = document.getElementById("cookies_inden_samtykke").value;
        const type = document.getElementById("type").value;
        const dato = document.getElementById("dato").value;

        // Gem svar som CSV
        const csvRow = [type, cvr, url, mangler_cookiebanner, uklassificerede_cookies, klik_videre, mangler_oplysninger_banner, mangler_oplysninger_varighed, mangler_slettevejledning, forudafkrydsede_felter, mangelfuld_cookiedeklaration, engelsk_cookiebanner, manglende_ens_meddelelseseffekt, manglende_granularitet, samtykke_uden_oplysninger].join(",");
        const csvContent = "data:text/csv;charset=utf-8," + csvRow;
        const encodedUri = encodeURI(csvContent);
        const currentDate = new Date().toISOString().slice(0, 10);
        const randomNumber = Math.floor(Math.random() * 100000);
        const filename = `judgedata_${client}_${currentDate}_${randomNumber}.csv`;
        const link = document.createElement("a");
        link.setAttribute("href", encodedUri);
        link.setAttribute("download", filename);
        document.body.appendChild(link);
        link.click();

        if (client !== "") {
          story += client + "</div><br>";
        }

        if (cvr !== "") {
          story += "CVR " + cvr + "</div><br>";
        }

        story += "<br>Sendt til virksomhedens digitale postkasse.<br>";
        
        if (dato !== "") {
          story += "<div style='text-align:right; font-size: 10px;'>" + dato + "</div>";
        }

        if (sagsbehandler === "aks") {
          story += "<div style='text-align:right; font-size: 10px;'>AKS</div>";
        }

        if (sagsbehandler === "nkg") {
          story += "<div style='text-align:right; font-size: 10px;'>NKG</div>";
        }

        if (sagsbehandler === "kkj") {
          story += "<div style='text-align:right; font-size: 10px;'>KKJ</div>";
        }

        story += "<br><br><br><br><br><br><strong>Høringsbrev om jeres brug af cookies</strong></div><br>";

        if (client !== "") {
          story += "<br>Til " + client + "</div><br>";
        }

        if (url !== "") {
          story += "<br><div style='page-break-inside: avoid;'>Digitaliseringsstyrelsen er blevet bekendt med, at cookieløsningen på tjenesten " + url + " ikke synes at leve op til reglerne om lagring af og adgang til oplysninger på en slutbrugers terminaludstyr (brug af cookies). Reglerne om brug af cookies findes i teleloven* og de nærmere krav til virksomheders cookieløsning er fastlagt i cookiebekendtgørelsen**.</div></div><br>";
        }

        story += "<div style='page-break-inside: avoid;'>Før styrelsen går videre med sagen, har I mulighed for at give jeres bemærkninger til de oplistede mangler nedenfor.</div><br>";
        story += "<div style='page-break-inside: avoid;'>Reglerne om brug af cookies har til formål at beskytte slutbrugeren mod tjenestens brug af cookies og lignende teknologier, uden at slutbrugeren har afgivet et informeret samtykke hertil.</div><br>";
        story += "<div style='page-break-inside: avoid;'>Tjenester som anvender cookies – der ikke er teknisk nødvendige cookies – har derfor pligt til at give slutbrugeren fyldestgørende informationer om formålet med de anvendte cookies samt oplysninger om eventuelle tredjeparter.</div>";
        story += "<br><div style='page-break-inside: avoid;'>For yderligere information om kravene, se styrelsens vejledning <a href='https://erhvervsstyrelsen.dk/vejledning-cookiebekendtgoerelse'>her</a>. Digitaliseringsstyrelsen kan derudover henvise til Rådet for Digital Sikkerheds quickguide til at sætte cookies, som kan findes <a href='https://erhvervsstyrelsen.dk/vejledning-cookiebekendtgoerelse'>her</a>.<br></div><br>";
        
        if (cookies_inden_samtykke === "1") {
          story += "<br><strong><u>Indhold der sættes inden samtykke </u></strong></div><br>";
          story += "<div style='page-break-inside: avoid;'>Digitaliseringsstyrelsen bemærker, at der straks ved besøg på tjenesten sættes cookies og lignende teknologier. Dette sker inden brugeren har givet sit samtykke til anvendelsen af sådanne. Det vedhæftede bilag I indeholder en gennemgang af disse teknologier.</div><br>";
          story += "<br><div style='page-break-inside: avoid;'>Teknisk nødvendige cookies og lignende teknologier er i lovgivningen undtaget fra informations- og samtykkekravet, jf. cookiebekendtgørelsens § 4. I bedes derfor informere styrelsen om, hvorvidt der sættes teknisk nødvendige cookies i henhold til bilag I.</div><br>";
          story += "<br><div style='page-break-inside: avoid;'>Digitaliseringsstyrelsen vil desuden gerne bede om en vurdering af om nogle af de cookies og lignende teknologier, som automatisk placeres på brugerens terminaludstyr, kan betegnes som ”simple statistikcookies”.</div>";
          story += "<div style='page-break-inside: avoid;'>Simple statistikcookies er cookies, der udelukkende indsamler statistik til tjenestens eget brug, og hvor en tredjepart ikke har mulighed for at anvende det indsamlede data til egne formål.<br></div><br>";
          story += "<br><div style='page-break-inside: avoid;'>Digitaliseringsstyrelsen skal på baggrund heraf bede jer gennemgå det vedhæftede bilag I over indhold, der sættes inden samtykke.</div><br>";
          story += "<ul>";
          story += "<li><div style='page-break-inside: avoid;'>I skal fremsende en redegørelse for den funktion, hver enkelt cookie og lignende teknologi har på jeres tjenesten.</li></div><br>";
          story += "<li><div style='page-break-inside: avoid;'>I bedes i redegørelsen markere de cookies og lignende teknologier, der enten udfylder rent teknisk nødvendige formål eller kun indhenter simpel statistik på tjenesten.</li></div><br>";
          story += "<li><div style='page-break-inside: avoid;'>Hvis der sættes cookies og lignende teknologier til andre formål end disse, skal det angives, hvordan disse fremadrettet håndteres.</li></div><br>";
          story += "</ul>";
        }
        
        story += "<br><strong><u>Mangler ved tjenestens cookieløsning</u></strong><br>";
        story += "<div style='page-break-inside: avoid;'>Ved besøg på tjenesten har Digitaliseringsstyrelsen konstateret følgende mangler ved hjemmesidens cookieløsning:</div><br>";


        if (uklassificerede_cookies === "1" && mangler_cookiebanner === "0") {
          story += "<br><div style='page-break-inside: avoid;'>Der sættes ifølge tjenestens cookiedeklaration uklassificerede cookies.</div>";
          story += "<div style='page-break-inside: avoid;'>Det følger af cookiebekendtgørelsen § 3, stk. 2, nr. 2, at udbyderen af en tjeneste har pligt til at informere brugeren om formålet med anvendelsen af cookies og lignende teknologier, hvorfor denne løsning ikke er i overensstemmelse med cookiebekendtgørelsens regler.</div><br>";
        }
        
        if (klik_videre === "1" && mangler_cookiebanner === "0") {
          
          story += "<br><div style='page-break-inside: avoid;'>Det fremgår af tjenestens cookiebanner, at brugeren ved at fortsætte brugen af tjenesten accepterer anvendelsen af cookies og lignende teknologier.</div>";
          story += "<div style='page-break-inside: avoid;'>Denne praksis lever ikke op til kravet om, at brugerens samtykke skal være udtryk for dennes aktive handling, jf. § 3, stk. 1, jf. § 2, nr. 8 samt sag C-673/17.</div><br>";
        }

        if (mangler_oplysninger_banner === "a" && mangler_cookiebanner === "0") {
          story += "<br><div style='page-break-inside: avoid;'>Såfremt der sættes cookies og lignende teknologier fra tredjeparter på tjenesten, oplyses der ikke på tilstrækkelig vis herom på forsiden af cookiebanneret.</div>";
          story += "<div style='page-break-inside: avoid;'>Dette er i så fald en overtrædelse af cookiebekendtgørelsens § 3, stk. 1 og stk. 2, nr. 3. Indhentes samtykke via et cookiebanner, skal udbyderen angive de væsentligste oplysninger vedrørende anvendelsen af cookies.</div>";
          story += "<div style='page-break-inside: avoid;'>Dette inkluderer oplysninger om tredjeparter. Dette kan fx løses ved at angive, at <em>”Vi og tredjeparter…”</em>, <em>”Vi anvender første- og tredjepartsteknologier…”</em> el.lign. i cookiebanneret.</div><br>";
        }

        if (mangler_oplysninger_banner === "b" && mangler_cookiebanner === "0") {
          story += "<br><div style='page-break-inside: avoid;'>Tjenesten angiver ikke samtlige overordnede formål med at anvende cookies og lignende teknologier på forsiden af cookiebanneret. Dette er en overtrædelse af cookiebekendtgørelsens § 3, stk. 1 og stk. 2, nr. 2.</div>";
          story += "<div style='page-break-inside: avoid;'>Indhentes samtykke via et cookiebanner skal tjenesten angive de væsentligste oplysninger vedrørende anvendelsen af cookies, hvilket inkluderer oplysninger om overordnede formål.</div><br>";

        }

        if (mangler_oplysninger_banner === "c" && mangler_cookiebanner === "0") {
          story += "<br><div style='page-break-inside: avoid;'>Der oplyses ikke på tilstrækkelig vis på forsiden af cookiebanneret, at der sættes cookies fra tredjeparter, og der fremgår ligeledes ikke oplysninger om samtlige overordnede formål med at anvende cookies og lignende teknologier.</div>";
          story += "<div style='page-break-inside: avoid;'>Dette er en overtrædelse af cookiebekendtgørelsens § 3, stk. 1 og stk. 2, nr. 2-3. Indhentes samtykke via et cookiebanner, skal udbyderen angive de væsentligste oplysninger vedrørende anvendelsen af cookies. Dette inkluderer oplysninger om eventuelle tredjeparter samt om overordnede formål.</div><br>";

        }

        if (mangler_oplysninger_varighed === "1" && mangler_cookiebanner === "0") {
          story += "<br><div style='page-break-inside: avoid;'>Det fremgår ikke af tjenestens cookiedeklaration, hvad de anvendte cookies og lignende teknologiers funktionsvarighed er.</div>";
          story += "<div style='page-break-inside: avoid;'>Tjenesteudbyderen har pligt til at oplyse om formålene bag de anvendte cookies, herunder cookies funktionsvarighed, jf. cookiebekendtgørelsens § 3, stk. 1-2 og sag C-673/17.</div><br>";

        }

        if (mangler_slettevejledning === "1" && mangler_cookiebanner === "0") {
          story += "<br><div style='page-break-inside: avoid;'>Det fremgår ikke af cookieoplysningerne, hvordan brugeren trækker sit samtykke tilbage. Tjenesteudbyderen har pligt til at give brugeren en umiddelbart tilgængelig adgang til at afslå at samtykke til cookies og lignende teknologier eller tilbagetrække et samtykke hertil, jf. cookiebekendtgørelsens § 3, stk. 2, nr. 4.</div>";
          story += "<div style='page-break-inside: avoid;'>Dette kan evt. løses ved at beskrive, hvordan cookies slettes fra brugerens udstyr eller ved at give brugeren adgang til at ændre sit samtykke. Samtidig skal adgangen til dette samt information om indsamlingen være vedvarende tilgængelig for brugeren ved en direkte og tydeligt markeret adgang på tjenesten, jf. cookiebekendtgørelsens § 3, stk. 2, nr. 5.</div><br>";
        }

        if (forudafkrydsede_felter === "1" && mangler_cookiebanner === "0") {
          story += "<br><div style='page-break-inside: avoid;'>Der indhentes samtykke til cookies og lignende teknologier gennem forudafkrydsede felter. Et samtykke er alene gyldigt, hvis det er udtryk for brugerens aktive handling. Et forudafkrydset felt vurderes ikke at leve op til dette krav, jf. cookiebekendtgørelsens § 3, stk. 1, jf. § 2, nr. 8 og sag C-673/17.</div><br>";
          story += "</ul>";
        }

        if (mangelfuld_cookiedeklaration === "1" && mangler_cookiebanner === "0") {
          story += "<br><div style='page-break-inside: avoid;'>Tjenesten har ingen eller en mangelfuld cookiedeklaration. Hvis tjenesten anvender cookies og lignende teknologier til andre formål end de rent teknisk nødvendige, har tjenesteudbyderen pligt til at give fyldestgørende oplysninger om de anvendte cookies og lignende teknologier, jf. cookiebekendtgørelsens § 3, stk.1 og stk. 2, nr. 1-3. Brugeren skal oplyses om følgende:</div><br>";
          story += "<ul>";
          story += "<li><div style='page-break-inside: avoid;'>Alle de anvendte cookies og lignende teknologier, der ikke er teknisk nødvendige, jf. cookiebekendtgørelsens § 3, stk. 1.</li></div><br>";
          story += "<li><div style='page-break-inside: avoid;'>Formålet med de enkelte cookies og lignende teknologier, jf. cookiebekendtgørelsens § 3, stk. 2, nr. 2.</li></div><br>";
          story += "<li><div style='page-break-inside: avoid;'>Udbyderne af de anvendte cookies og lignende teknologier, jf. cookiebekendtgørelsens § 3, stk. 2, nr. 3.</li></div><br>";
          story += "<li><div style='page-break-inside: avoid;'>Funktionsvarigheden af de anvendte cookies og lignende teknologier, jf.  cookiebekendtgørelsens § 3, stk. 2 og sag C-673/17.</li></div><br>";
          story += "</ul>";
        }
        
        if (mangler_cookiebanner === "1") {
          story += "<br><div style='page-break-inside: avoid;'>Ved besøg på tjenesten har Digitaliseringsstyrelsen konstateret, at der ikke oplyses om eller indhentes samtykke til cookies og lignende teknologier. Såfremt der anvendes andre cookies og lignende teknologier end rent teknisk nødvendige cookies, er dette en overtrædelse af cookiebekendtgørelsens § 3.</div><br>";
          story += "<br><div style='page-break-inside: avoid;'>Hvis I bruger teknologier, der ikke er teknisk nødvendige, og derfor skal til at indsamle et informeret samtykke, er det vigtigt, at I bemærker følgende punkter:</div><br>";
          story += "<ul>";
          story += "<li><div style='page-break-inside: avoid;'>Det skal være lige så let for brugeren at afvise som acceptere samtykke, jf. cookiebekendtgørelsens § 3, stk. 2, nr. 4, sammenholdt med samtykkebegrebet, der skal fortolkes i overensstemmelse med GDPR***</li></div><br>";
          story += "<li><div style='page-break-inside: avoid;'>Det skal være muligt for brugeren at give sit samtykke fordelt efter overordnede formål, fx til statistik og markedsføring****</li></div><br>";
          story += "<li><div style='page-break-inside: avoid;'>Udbyderne af de anvendte cookies og lignende teknologier, jf. cookiebekendtgørelsens § 3, stk. 2, nr. 3.</li></div><br>";
          story += "<li><div style='page-break-inside: avoid;'>I skal informere om formålet med at sætte cookies og hvorvidt tredjeparter sætter cookies, umiddelbart når brugeren tilgår tjenesten, jf. cookiebekendtgørelsen § 3, stk. 2, nr. 2 og nr. 3.</li></div><br>";
          story += "<li><div style='page-break-inside: avoid;'>I skal informere brugeren om:</li></div><br>";
          story += "<ul>";
          story += "<li><div style='page-break-inside: avoid;'>Alle de anvendte cookies og lignende teknologier, der ikke er teknisk nødvendige, jf. cookiebekendtgørelsens § 3, stk. 1.</li>";
          story += "<li><div style='page-break-inside: avoid;'>Formålet med de enkelte cookies og lignende teknologier, jf. cookiebekendtgørelsens § 3, stk. 2, nr. 2.</li>";
          story += "<li><div style='page-break-inside: avoid;'>Udbyderne af de anvendte cookies og lignende teknologier, jf. cookiebekendtgørelsens § 3, stk. 2, nr. 3.</li>";
          story += "<li><div style='page-break-inside: avoid;'>Funktionsvarigheden af de anvendte cookies og lignende teknologier, jf.  cookiebekendtgørelsens § 3, stk. 2 og sag C-673/17.</li>";
          story += "</ul>";
          story += "</ul>";
        }

        if (engelsk_cookiebanner === "1" && mangler_cookiebanner === "0") {
          story += "<br><div style='page-break-inside: avoid;'>Brugeren præsenteres for et engelsksproget cookiebanner. Cookiebekendtgørelsens § 3, stk. 1 og stk. 2, nr. 1, fastslår, at informationen skal fremstå i et klart, præcist og letforståeligt sprog.</div>";
          story += "<div style='page-break-inside: avoid;'>Information om anvendelsen af cookies og lignende teknologier bør dermed formuleres på en sådan måde, at brugeren let kan danne sig et overblik over anvendelsen af disse teknologier. Valg af sprog skal dermed ske under hensyn til de brugere, som tjenesten retter sig imod, herunder hvor brugerne befinder sig geografisk. Da tjenesten retter sig mod danske brugere, skal cookieinformationen ligeledes være på dansk.</div><br>";
        }

        if (manglende_ens_meddelelseseffekt === "a" && mangler_cookiebanner === "0") {
          story += "<br><div style='page-break-inside: avoid;'>Det er alene muligt for brugeren at acceptere alle cookies og lignende teknologier, idet der ikke er en ”afvis”-knap. Denne løsning er ikke i overensstemmelse med reglerne i cookiebekendtgørelsen, idet det følger af reglerne, at der skal være en umiddelbar adgang for brugeren til at afslå samtykke, jf. cookiebekendtgørelsens § 3, stk. 1 og stk. 2, nr. 4, jf. § 2, nr. 8, sammenholdt med samtykkebegrebet, der skal fortolkes i overensstemmelse med GDPR.</div>";
          story += "<div style='page-break-inside: avoid;'>Det skal derfor være lige så let for brugeren at afvise cookies, som det er at acceptere dem. Det betyder, at valg af placering af ”accepter”- og ”afvis”-felt skal afspejle dette.</div><br>";

        }

        if (manglende_ens_meddelelseseffekt === "b" && mangler_cookiebanner === "0") {
          story += "<br><div style='page-break-inside: avoid;'>Det er alene muligt for brugeren at acceptere alle cookies og lignende teknologier eller vælge fx ”indstillinger” eller ”læs mere”. Der er således ikke en ”afvis”-knap på forsiden i cookiebanneret.</div>";
          story += "<div style='page-break-inside: avoid;'>Denne løsning er ikke i overensstemmelse med reglerne i cookiebekendtgørelsen, idet det følger af reglerne, at der skal være en umiddelbar adgang for brugeren til at afslå cookies, jf. cookiebekendtgørelsens § 3, stk. 1 og stk. 2, nr. 4, jf. § 2, nr. 8, sammenholdt med samtykkebegrebet, der skal fortolkes i overensstemmelse med GDPR. Det skal være lige så let for brugeren at afvise cookies, som det er at acceptere dem. Det betyder, at valg af placering af ”accepter”- og ”afvis”-felt skal afspejle dette.</div><br>";

        }

        if (manglende_ens_meddelelseseffekt === "c" && mangler_cookiebanner === "0") {
          story += "<br><div style='page-break-inside: avoid;'>Tjenestens samtykkeløsning er ikke i overensstemmelse med reglerne i cookiebekendtgørelsen, idet det følger af reglerne, at der skal være en umiddelbar adgang for slutbrugeren til at afslå cookies, jf. cookiebekendtgørelsens § 3, stk. 1 og stk. 2, nr. 4, jf. § 2, nr. 8.</div>";
          story += "<div style='page-break-inside: avoid;'>Dette sammenholdt med samtykkebegrebet, der skal fortolkes i overensstemmelse med GDPR, bevirker at det skal være lige så let for brugeren at afvise cookies, som det er at acceptere dem. Det betyder, at valg af placering af ”accepter”- og ”afvis”-knap skal afspejle dette. Det vil således ikke være i overensstemmelse med reglerne at have en tydelig ”accepter”-knap i cookiebanneret, mens ”afvis”-knappen er ”gemt” i teksten i cookiebanneret.</div><br>";

        }

        if (manglende_granularitet === "1" && mangler_cookiebanner === "0") {
          story += "<br><div style='page-break-inside: avoid;'>Det er ikke muligt for brugeren at opdele sit samtykke efter overordnede formål, idet der alene indhentes et samlet samtykke til alle formål. Denne løsning er ikke i overensstemmelse med betingelserne for samtykke i cookiebekendtgørelsens § 3, stk. 1, jf. § 2, nr. 8.</div>";
          story += "<div style='page-break-inside: avoid;'>Samtykkebegrebet i cookiebekendtgørelsen henviser til samtykkebegrebet i GDPR, og der skal derved indhentes et samtykke i overensstemmelse hermed. Det følger af kravet om gennemsigtighed i GDPR, at brugeren skal have adgang til at give sit samtykke opdelt efter overordnede formål.</div>";
          story += "<div style='page-break-inside: avoid;'>Denne funktion skal ikke nødvendigvis ligge i cookiebannerets første lag, men det skal være klart og tydeligt for brugeren, at muligheden for alene at tilvælge enkelte formål er til stede. Det skal også i cookiebanneret fremgå, hvor denne funktion er placeret.</div><br>";

        }

        if (samtykke_uden_oplysninger === "1" && mangler_cookiebanner === "0") {
          story += "<br><div style='page-break-inside: avoid;'>Det er ikke muligt for brugeren at tilgå cookiepolitikken før der er givet samtykke. Brugeren har således ikke adgang til fyldestgørende information om anvendelse af cookies forud for indhentelsen af samtykke.</div>";
          story += "<div style='page-break-inside: avoid;'>Det følger cookiebekendtgørelsen § 3 stk. 1 og stk. 2, nr. 4-5, at der ikke må lagres eller tilgås allerede lagrede oplysninger, hvis ikke brugeren giver sit samtykke hertil efter at have modtaget fyldestgørende information om lagringen af eller adgang til oplysningerne.</div><br>";

        }
        
        if (frist !== "") {
          story += "<br><div style='page-break-inside: avoid;'>Digitaliseringsstyrelsen skal bede om jeres bemærkninger til ovenstående punkter senest den " + "<strong>" + frist + "</strong>" + ", hvorefter styrelsen vil træffe afgørelse om påbud.<br></div><br>";
        }

        story += "<div style='page-break-inside: avoid;'>Eventuelle spørgsmål omkring sagen kan rettes til undertegnede.<br></div><br>";
        story += "<br><strong>Bilag</strong></div><br>";

        if (cookies_inden_samtykke === "1" && mangler_cookiebanner === "0") {
          story += "<br><div style='page-break-inside: avoid;'>&bull; Bilag I illustrerer indhold, der sættes på tjenesten inden samtykke.</div><br>";
          story += "<br><div style='page-break-inside: avoid;'>&bull; Bilag II illustrerer mangler ved cookieløsningen.<br></div><br>";
        }

        if (cookies_inden_samtykke === "1" && mangler_cookiebanner === "1") {
          story += "<br><div style='page-break-inside: avoid;'>&bull; Bilag I illustrerer indhold, der sættes på tjenesten inden samtykke.</div><br>";
        }

        if (cookies_inden_samtykke === "0") {
          story += "<br><div style='page-break-inside: avoid;'>&bull; Bilag I illustrerer mangler ved cookieløsningen.<br></div><br>";
        }

        story += "<br><div style='page-break-inside: avoid;'><br>Med venlig hilsen</div><br>";

        if (sagsbehandler === "aks") {
          story += "<br><div style='page-break-inside: avoid;'>Anne-Kathrine Eigen Schnügger</div>";
          story += "<div style='page-break-inside: avoid;'>E-mail: ANKSCH@ERST.DK</div>";
          story += "<div style='page-break-inside: avoid;'>Tlf.: 3529 1052</div><br>";
        }

        if (sagsbehandler === "nkg") {
          story += "<div style='page-break-inside: avoid;'><br>Nina Krener Gjelstrup</div>";
          story += "<div style='page-break-inside: avoid;'>E-mail: NINGJE@ERST.DK</div>";
          story += "<div style='page-break-inside: avoid;'>Tlf.: 3529 1032</div><br>";
        }

        if (sagsbehandler === "kkj") {
          story += "<br><div style='page-break-inside: avoid;'>Kristian Kjemtrup Jensen</div>";
          story += "<div style='page-break-inside: avoid;'>E-mail: KRKJEN@ERST.DK</div>";
          story += "<div style='page-break-inside: avoid;'>lf.: 3529 1566</div><br>";
        }

        story += "<br><div style='page-break-inside: avoid;'><em style='font-size: 10px;'>*Lovbekendtgørelse nr. 128 af 7. februar 2014 om elektroniske kommunikationsnet</em></div><br>";
        story += "<br><div style='page-break-inside: avoid;'><em style='font-size: 10px;'>**Bekendtgørelse nr. 1148 af 9. december 2011 om krav til information og samtykke ved lagring af eller adgang til oplysninger i slutbrugeres terminaludstyr</em></div><br>";
    

        if (mangler_cookiebanner === "1") {
          story += "<br><div style='page-break-inside: avoid;'><em style='font-size: 10px;'>***Det følger af reglerne, at der skal være en umiddelbar adgang for brugeren til at afslå samtykke, jf. cookiebekendtgørelsens § 3, stk. 2, nr. 4, sammenholdt med samtykke-begrebet, der skal fortolkes i overensstemmelse med GDPR. Det skal derfor være lige så let for brugeren at afvise cookies, som det er at acceptere dem. Det betyder, at valg af placering af ”accepter”- og ”afvis”-felt skal afspejle dette, og det vil således ikke være i overensstemmelse med reglerne alene at have en ”accepter”-knap.</em></div><br>";
          story += "<br><div style='page-break-inside: avoid;'><em style='font-size: 10px;'>****Samtykkebegrebet i cookiebekendtgørelsen henviser til samtykkebegrebet i GDPR, og der skal derved indhentes et samtykke i overensstemmelse hermed. Det følger af kravet om gennemsigtighed i GDPR, at brugeren skal have adgang til at give sit samtykke opdelt efter overordnede formål. Denne funktion skal ikke nødvendigvis ligge i cookie-bannerets første lag, men det skal være klart og tydeligt for brugeren, at muligheden for alene at tilvælge enkelte formål er til stede. Det skal også i cookiebanneret fremgå, hvor denne funktion er placeret.</em></div></div><br>";

        }

        document.getElementById("story").innerHTML = story;
    
        // Get the value of the input field with id "title"
        var title = document.getElementById("client").value;
        
        // Generate a filename using the title
        var filename_pdf = "Høringsbrev til " + title + ".pdf";


        var opt = {
          margin: [150,100,120,100],
          html2canvas: { scale: 1.7, letterRendering: true },
          jsPDF: {
            unit: 'pt',
            format: 'letter',
            orientation: 'portrait',
            align: 'justify',
            fontSize: 10,
            lineHeight: 1.5
          },
          pagebreak: { mode: ['avoid-all'] }

        };


           // Generate PDF from generated story
    html2pdf().set(opt).from(story).save(filename_pdf);
}
    </script>
  </body>
</html>
